{"version":3,"file":"commonHelpers.js","sources":["../src/img/error.svg","../src/js/render-functions.js","../src/js/pixabay-api.js","../src/main.js"],"sourcesContent":["export default \"__VITE_ASSET__8479b7dd__\"","import iziToast from 'izitoast';\nimport errorIcon from '../img/error.svg';\nimport 'izitoast/dist/css/iziToast.min.css';\n\nimport SimpleLightbox from 'simplelightbox';\nimport 'simplelightbox/dist/simple-lightbox.min.css';\nimport { pageNow } from './pixabay-api';\nimport { btnLoadClasses } from './pixabay-api';\nconst gallery = document.querySelector('.gallery');\nlet totalPages = 0;\nexport function showResult(result) {\n  totalPages = Math.ceil(result.totalHits / 15);\n  if (result.total === 0) {\n    resetHtml();\n    iziToast.error({\n      iconUrl: errorIcon,\n      iconColor: 'color: #fff',\n      message:\n        '<p>Sorry, there are no images matching</p> <p>your search query. Please try again!</p>',\n\n      messageColor: '#fafafb',\n      messageSize: '16px',\n      position: 'topRight',\n      theme: 'dark',\n      backgroundColor: '#ef4040',\n    });\n  } else if (totalPages === pageNow) {\n    btnLoadClasses.toggle('bnt-isvisible', true);\n    iziToast.error({\n      iconUrl: errorIcon,\n      iconColor: 'color: #fff',\n      message:\n        \"<p>We're sorry, but you've reached the end of search results.</p>\",\n\n      messageColor: '#fafafb',\n      messageSize: '16px',\n      position: 'topRight',\n      theme: 'dark',\n      backgroundColor: '#ef4040',\n    });\n  } else {\n    const images = result.hits.slice(0, 20);\n    if (pageNow === 1) {\n      resetHtml();\n    }\n    gallery.insertAdjacentHTML(\n      'beforeend',\n      images\n        .map(\n          ({\n            webformatURL,\n            largeImageURL,\n            tags,\n            likes,\n            views,\n            comments,\n            downloads,\n          }) => {\n            return `<div class=\"container\">\n                        <div class=\"card\">\n                            <a class=\"gallery-link\" href=\"${largeImageURL}\">\n                                <img\n                                class=\"image-card\"\n                                src=\"${webformatURL}\"\n                                alt=\"${tags}\"\n                                />\n                            </a> \n                            <ul class=\"list\">\n                            <li class=\"list-item\">\n                                <p class=\"title\">Likes</p>\n                                <p class=\"value\">${likes}</p>\n                            </li>\n                            <li class=\"list-item\">\n                                <p class=\"title\">Views</p>\n                                <p class=\"value\">${views}</p>\n                            </li>\n                            <li class=\"list-item\">\n                                <p class=\"title\">Comments</p>\n                                <p class=\"value\">${comments}</p>\n                            </li>\n                            <li class=\"list-item\">\n                                <p class=\"title\">Downloads</p>\n                                <p class=\"value\">${downloads}</p>\n                            </li>\n                            </ul>\n                        </div>\n                    </div>`;\n          }\n        )\n        .join('')\n    );\n    if (pageNow > 1) {\n      const scrollHight = gallery.getBoundingClientRect().height;\n\n      window.scrollBy({\n        top: scrollHight,\n        behavior: 'smooth',\n      });\n    }\n    btnLoadClasses.toggle('bnt-isvisible', false);\n  }\n  const lightbox = new SimpleLightbox('.gallery-link', {\n    captionsData: 'alt',\n    captionDelay: 250,\n    captionPosition: 'bottom',\n  });\n  lightbox.refresh();\n\n  lightbox.on('shown.simplelightbox', () => {\n    const overlay = document.querySelector('.sl-wrapper');\n    const counter = document.querySelector('.sl-counter');\n    const buttonClose = document.querySelector('.sl-close');\n    const arrowNavigation = document.querySelectorAll(\n      '.sl-wrapper .sl-navigation button'\n    );\n    overlay.style.backgroundColor = 'rgba(46, 47, 66, 0.8)';\n    counter.style.color = '#fff';\n    counter.style.fontFamily = 'Montserrat';\n    counter.style.top = '16px';\n    buttonClose.style.color = '#fff';\n    arrowNavigation.forEach(item => (item.style.color = '#fff'));\n  });\n}\nexport function resetHtml() {\n  gallery.innerHTML = '';\n  btnLoadClasses.toggle('bnt-isvisible', true);\n}\n","import axios from 'axios';\nimport { showResult } from './render-functions';\nimport { resetHtml } from './render-functions';\nconst API_KEY = '42515618-500ad6d8e1f921b5ea984b145';\n\nconst spanIsVisible = document.querySelector('.isVisible');\nconst loaderClasses = spanIsVisible.classList;\n\nconst btnIsVisible = document.querySelector('.bnt-isvisible');\nexport const btnLoadClasses = btnIsVisible.classList;\nexport let pageNow = 1;\n\nexport function resetCountPages() {\n  pageNow = 1;\n}\n\nexport function countPages() {\n  pageNow++;\n}\n\nexport function getImages(name) {\n  loaderClasses.toggle('isVisible', false);\n  btnLoadClasses.toggle('bnt-isvisible', true);\n  const URL = `https://pixabay.com/api/?key=${API_KEY}&q=${encodeURIComponent(\n    name\n  )}&image_type=photo&orientation=horizontal&safesearch=true&per_page=15&page=${pageNow}`;\n\n  const fetch = async () => {\n    const response = await axios.get(URL);\n    loaderClasses.toggle('isVisible', true);\n    btnLoadClasses.toggle('bnt-isvisible', false);\n    return response.data;\n  };\n\n  fetch()\n    .then(result => showResult(result))\n    .catch(error => {\n      console.log(error);\n      resetHtml();\n    });\n}\n","import { getImages } from './js/pixabay-api';\nimport { countPages } from './js/pixabay-api';\nimport { resetCountPages } from './js/pixabay-api';\nconst fetchUsersBtn = document.querySelector('button[data-start]');\nconst input = document.querySelector('#data-search');\nconst btnLoadMore = document.querySelector('button[data-loadmore]');\nlet globalNameImage;\nfetchUsersBtn.addEventListener('click', () => {\n  const nameImage = input.value.trim();\n  resetCountPages();\n  if (nameImage !== '') {\n    getImages(nameImage.trim());\n    globalNameImage = nameImage;\n  }\n});\n\nbtnLoadMore.addEventListener('click', () => {\n  countPages();\n  getImages(globalNameImage);\n});\n"],"names":["errorIcon","gallery","totalPages","showResult","result","resetHtml","iziToast","pageNow","btnLoadClasses","images","webformatURL","largeImageURL","tags","likes","views","comments","downloads","scrollHight","lightbox","SimpleLightbox","overlay","counter","buttonClose","arrowNavigation","item","API_KEY","spanIsVisible","loaderClasses","btnIsVisible","resetCountPages","countPages","getImages","name","URL","response","axios","error","fetchUsersBtn","input","btnLoadMore","globalNameImage","nameImage"],"mappings":"owBAAA,MAAeA,EAAA,2CCQTC,EAAU,SAAS,cAAc,UAAU,EACjD,IAAIC,EAAa,EACV,SAASC,EAAWC,EAAQ,CAEjC,GADAF,EAAa,KAAK,KAAKE,EAAO,UAAY,EAAE,EACxCA,EAAO,QAAU,EACnBC,IACAC,EAAS,MAAM,CACb,QAASN,EACT,UAAW,cACX,QACE,yFAEF,aAAc,UACd,YAAa,OACb,SAAU,WACV,MAAO,OACP,gBAAiB,SACvB,CAAK,UACQE,IAAeK,EACxBC,EAAe,OAAO,gBAAiB,EAAI,EAC3CF,EAAS,MAAM,CACb,QAASN,EACT,UAAW,cACX,QACE,oEAEF,aAAc,UACd,YAAa,OACb,SAAU,WACV,MAAO,OACP,gBAAiB,SACvB,CAAK,MACI,CACL,MAAMS,EAASL,EAAO,KAAK,MAAM,EAAG,EAAE,EAkDtC,GAjDIG,IAAY,GACdF,IAEFJ,EAAQ,mBACN,YACAQ,EACG,IACC,CAAC,CACC,aAAAC,EACA,cAAAC,EACA,KAAAC,EACA,MAAAC,EACA,MAAAC,EACA,SAAAC,EACA,UAAAC,CACZ,IACmB;AAAA;AAAA,4DAEyCL,CAAa;AAAA;AAAA;AAAA,uCAGlCD,CAAY;AAAA,uCACZE,CAAI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,mDAMQC,CAAK;AAAA;AAAA;AAAA;AAAA,mDAILC,CAAK;AAAA;AAAA;AAAA;AAAA,mDAILC,CAAQ;AAAA;AAAA;AAAA;AAAA,mDAIRC,CAAS;AAAA;AAAA;AAAA;AAAA,2BAMnD,EACA,KAAK,EAAE,CAChB,EACQT,EAAU,EAAG,CACf,MAAMU,EAAchB,EAAQ,sBAAqB,EAAG,OAEpD,OAAO,SAAS,CACd,IAAKgB,EACL,SAAU,QAClB,CAAO,CACF,CACDT,EAAe,OAAO,gBAAiB,EAAK,CAC7C,CACD,MAAMU,EAAW,IAAIC,EAAe,gBAAiB,CACnD,aAAc,MACd,aAAc,IACd,gBAAiB,QACrB,CAAG,EACDD,EAAS,QAAO,EAEhBA,EAAS,GAAG,uBAAwB,IAAM,CACxC,MAAME,EAAU,SAAS,cAAc,aAAa,EAC9CC,EAAU,SAAS,cAAc,aAAa,EAC9CC,EAAc,SAAS,cAAc,WAAW,EAChDC,EAAkB,SAAS,iBAC/B,mCACN,EACIH,EAAQ,MAAM,gBAAkB,wBAChCC,EAAQ,MAAM,MAAQ,OACtBA,EAAQ,MAAM,WAAa,aAC3BA,EAAQ,MAAM,IAAM,OACpBC,EAAY,MAAM,MAAQ,OAC1BC,EAAgB,QAAQC,GAASA,EAAK,MAAM,MAAQ,MAAO,CAC/D,CAAG,CACH,CACO,SAASnB,GAAY,CAC1BJ,EAAQ,UAAY,GACpBO,EAAe,OAAO,gBAAiB,EAAI,CAC7C,CC3HA,MAAMiB,EAAU,qCAEVC,EAAgB,SAAS,cAAc,YAAY,EACnDC,EAAgBD,EAAc,UAE9BE,EAAe,SAAS,cAAc,gBAAgB,EAC/CpB,EAAiBoB,EAAa,UACpC,IAAIrB,EAAU,EAEd,SAASsB,GAAkB,CAChCtB,EAAU,CACZ,CAEO,SAASuB,GAAa,CAC3BvB,GACF,CAEO,SAASwB,EAAUC,EAAM,CAC9BL,EAAc,OAAO,YAAa,EAAK,EACvCnB,EAAe,OAAO,gBAAiB,EAAI,EAC3C,MAAMyB,EAAM,gCAAgCR,CAAO,MAAM,mBACvDO,CACJ,CAAG,6EAA6EzB,CAAO,IAEvE,SAAY,CACxB,MAAM2B,EAAW,MAAMC,EAAM,IAAIF,CAAG,EACpC,OAAAN,EAAc,OAAO,YAAa,EAAI,EACtCnB,EAAe,OAAO,gBAAiB,EAAK,EACrC0B,EAAS,IACpB,GAES,EACJ,KAAK9B,GAAUD,EAAWC,CAAM,CAAC,EACjC,MAAMgC,GAAS,CACd,QAAQ,IAAIA,CAAK,EACjB/B,GACN,CAAK,CACL,CCrCA,MAAMgC,EAAgB,SAAS,cAAc,oBAAoB,EAC3DC,EAAQ,SAAS,cAAc,cAAc,EAC7CC,EAAc,SAAS,cAAc,uBAAuB,EAClE,IAAIC,EACJH,EAAc,iBAAiB,QAAS,IAAM,CAC5C,MAAMI,EAAYH,EAAM,MAAM,KAAI,EAClCT,IACIY,IAAc,KAChBV,EAAUU,EAAU,KAAI,CAAE,EAC1BD,EAAkBC,EAEtB,CAAC,EAEDF,EAAY,iBAAiB,QAAS,IAAM,CAC1CT,IACAC,EAAUS,CAAe,CAC3B,CAAC"}